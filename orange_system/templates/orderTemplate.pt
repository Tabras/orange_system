<!DOCTYPE html>
<html>
  
  <head>
    <title>MainPage</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
    
    <link rel="stylesheet" href="${request.static_url('orange_system:static/bootstrap_css/bootstrap.css')}"/>
    <link rel="stylesheet" href="${request.static_url('orange_system:static/bootstrap_css/bootstrap-responsive.css')}"/>
    
    <script src="${request.static_url('orange_system:static/js/jquery.min.js')}"></script>
    <script src="${request.static_url('orange_system:static/js/bootstrap.min.js')}"></script>
    
  </head>
  
  <body>
    <div class="navbar-inverse navbar">
      <div class="navbar-inner">
        <div class="container">
          <div class="navbar-content">
            <ul class="nav">
              <li>
                <a href="${request.route_url('home')}">Home</a> 
              </li>
              <li>
                <a href="${request.route_url('search')}">Search</a> 
              </li>
              <li>
                <a href="${request.route_url('customer')}">Customers</a> 
              </li>
              <li class="active">
                <a href="${request.route_url('order')}">Orders #!</a> 
              </li>
              <li>
                <a href="${request.route_url('service')}">Services</a> 
              </li>
              <li>
                <a href="${request.route_url('part')}">Parts</a> 
              </li>
              <li>
                <a href="${request.route_url('report')}">Reports</a> 
              </li>
              <li>
                <a href="${request.route_url('todo')}">To-Do</a> 
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    
    <div class="container-fluid">
      <div class="span4">
        <div class="well">
		  <h2>Order Details</h2>
		  <br>
		  <input id="custID" name="custID" type="text" class="input-medium" placeholder="TEMPORARY, FOR TESTING ONLY">
		  <br>
		  
		  <!-- Keep in mind only one of these forms (Add / Update) will be visible at a time.
			   Their visibility is dependant on whether an order Id was passed
			   to the page or not.
		  -->
		  
		  <form method="POST" id="addOrder" name="addOrder" action="${request.route_url('addOrder')}" tal:condition="not order">
            <label>** No Customer Selected **</label>
            <br>
            <br>
            <label><b>Model</b></label>
            <input id="model" name="model" type="text" class="input-medium" placeholder="Model Name">
            <br>
            <label><b>Notes</b></label>
            <textarea id="notes" name="notes" placeholder="Enter notes here"></textarea>
            <br>
            <label><b>Status</b></label>
            <select id="status" name="status">
			  <option tal:repeat="progress descriptions" value="${progress.progressDescription}" name="progressDescription">${progress.progressDescription}</option>
            </select>
            <br>
            <br>
            <button type="submit" id="btnAdd" name="btnAdd" class="btn btn-primary">Add Order</button>
          </form>
          
          
          <form method="POST" id="updateOrder" name="updateOrder" action="${request.route_url('updateOrder')}" tal:condition="order">
			<label>${customer.firstName} ${customer.lastName}</label>
		    <br>
		    <br>
            <label><b>Model</b></label>
            <input id="model" name="model" type="text" class="input-medium" value="${order.modelName">
            <br>
            <label><b>Notes</b></label>
            <textarea id="notes" name="notes" value="${order.orderNotes}"></textarea>
            <br>
            <label><b>Status</b></label>
            <select id="status" name="status">
			  <option tal:repeat="progress descriptions" value="${order.progressDescription}" name="progressDescription">${order.progressDescription}</option>
            </select>
            <br>
            <br>
            <button type="submit" id="btnUpdate" name="btnUpdate" class="btn btn-primary">Update Order</button>
          </form>
      </div>
    
      <div class="span4">
        <div class="well">
          <label><b>Services</b></label>
          <select id="serviceselect" name="serviceselect">
            <option tal:repeat="row services">${row.serviceName}</option>
          </select>
          <button onclick="addService()"><b>+</b></button>
          <br>
          <h4>Current</h4>
          <table class="table table-striped">
            <tr>
              <th>ID</th>
                <th>Service Name</th>
                <th>Service Cost</th>
              </tr>
            <tr tal:repeat="row orders">
              <td>${row.modelName}</td>
              <td>${row.orderCost}</td>
            </tr>
          </table>
        </div>
      </div>
      <div class="span4">
        <div class="well">
          <label><b>Parts</b></label>
          <select id="partselect" name="partselect">
            <option tal:repeat="row parts">${row.partName}</option>
          </select>
          <button onclick="addPart()"><b>+</b></button>
        </div>
      </div>
    </div>
  
    <div class="container-fluid">
      <div class="well">
		<br>
		<h2>Orders List</h2>
        <table class="table table-striped">
        <tr>
          <th>ID</th>
            <th>Customer</th>
            <th>Model Name</th>
            <th>Notes</th>
            <th>Cost</th>
            <th>Entry Date</th>
            <th>Progress</th>
            <th>Completion Date</th>
          </tr>
        <tr tal:repeat="row orders">
          <td>${row.orderID}</td>
          <td>${row.custID}</td>
          <td>${row.modelName}</td>
          <td>${row.orderNotes}</td>
          <td>${row.orderCost}</td>
          <td>${row.entryDate}</td>
          <td>${row.progressDescription}</td>
          <td>${row.completionDate}</td>
        </tr>
        </table>
        </div>
    </div>
    
  </body>
</html>
